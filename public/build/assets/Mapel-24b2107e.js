import{r as i,b as N,l as J,o as r,c as n,d as e,F as B,s as $,f as h,I as Q,w as y,t as d,i as W,m as p,e as u,C as K,B as g,v as k,x as _,D as X,_ as Z,K as ee}from"./app-7f2918f6.js";import{D as P}from"./flowbite-vue-546a4a58.js";import{l as V}from"./loader-50bc1437.js";const te={class:"w-full relative overflow-x-auto shadow-md sm:rounded-lg"},ae={class:"box-border px-6 py-3 border-b bg-white flex justify-between items-center"},oe=e("h2",{class:"text-lg font-bold"},"Mapel",-1),se={class:"relative overflow-x-auto w-full"},re={key:0,class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},le=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 border-b"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 w-[10px]"},[e("span",{class:"bg-gray-300 text-gray-300 rounded"},"No")]),e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"bg-gray-300 text-gray-300 rounded"},"Kode Mapel")]),e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"bg-gray-300 text-gray-300 rounded"},"Kode Mapel")]),e("th",{scope:"col",class:"px-6 py-3"},[e("div",{class:"sr-only"},"Aksi")])])],-1),ne=e("td",{class:"px-6 py-4 font-normal text-gray-900 whitespace-nowrap dark:text-white"},[e("span",{class:"bg-gray-300 text-gray-300 rounded"},"no")],-1),de=e("td",{class:"px-6 py-4 font-normal text-gray-900 whitespace-nowrap dark:text-white"},[e("span",{class:"bg-gray-300 text-gray-300 rounded"},"kode Mapel")],-1),ie=e("td",{class:"px-6 py-4 font-normal text-gray-900 whitespace-nowrap dark:text-white"},[e("span",{class:"bg-gray-300 text-gray-300 rounded"},"nama Mapel")],-1),ce=e("td",{class:"px-6 py-4 text-right"},[e("div",{class:"w-full flex justify-end space-x-2"},[e("a",{href:"#",class:"rounded-lg overflow-hidden block font-normal bg-gray-300 text-gray-300"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.8",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})])]),e("a",{href:"#",class:"rounded-lg overflow-hidden block font-normal bg-gray-300 text-gray-300"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.8",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])])])],-1),ue=[ne,de,ie,ce],ge={key:1,class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},pe=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 border-b"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 w-[10px]"}," No "),e("th",{scope:"col",class:"px-6 py-3"}," Kode Mapel "),e("th",{scope:"col",class:"px-6 py-3"}," Nama Mapel "),e("th",{scope:"col",class:"px-6 py-3"},[e("div",{class:"sr-only"},"Aksi")])])],-1),me={key:0},xe={class:"px-6 py-4 font-normal text-gray-900 whitespace-nowrap dark:text-white"},he={class:"px-6 py-4 font-normal text-gray-900 whitespace-nowrap dark:text-white"},ye={class:"px-6 py-4 font-normal text-gray-900 whitespace-nowrap dark:text-white"},be={class:"px-6 py-4 text-right"},ve={class:"w-full flex justify-end space-x-2"},fe=["onClick"],ke=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.8",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),_e=[ke],we=["onClick"],Me=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.8",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),Ce=[Me],Ae={key:1},Ee=e("tr",{class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[e("td",{colspan:"4",class:"text-center px-6 py-4 font-normal text-gray-900 whitespace-nowrap dark:text-white italic"},"Tidak Ada Data")],-1),De=[Ee],Le={key:2,class:"w-full border-t box-border bg-white flex items-center justify-between px-6 py-3"},Se={class:"flex items-center justify-center space-x-2 text-xs"},Te=e("span",null,"showing",-1),je=["onChange"],Ne=e("option",{value:10},"10",-1),Be=e("option",{value:50},"50",-1),Ke=e("option",{value:100},"100",-1),Pe=[Ne,Be,Ke],Ve=e("div",{class:"flex items-center text-lg"}," Tambah Mapel ",-1),Fe={class:"mb-6"},$e=e("label",{for:"kode",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kode Mapel",-1),Ie={key:0,class:"text-red-500 italic text-[10px] mt-1"},Oe={class:"mb-6"},ze=e("label",{for:"nama",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Nama Mapel",-1),He={key:0,class:"text-red-500 italic text-[10px] mt-1"},Ue={key:0,class:"flex items-center"},Ge=["src"],Re=e("div",{class:"text-gray-600 italic"},"Menyimpan Data",-1),Ye={key:1,class:"flex justify-between"},qe=e("div",{class:"flex items-center text-lg"}," Edit Mapel ",-1),Je={class:"mb-6"},Qe=e("label",{for:"kode",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kode Mapel",-1),We={key:0,class:"text-red-500 italic text-[10px] mt-1"},Xe={class:"mb-6"},Ze=e("label",{for:"nama",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Nama Mapel",-1),et={key:0,class:"text-red-500 italic text-[10px] mt-1"},tt={key:0,class:"flex items-center"},at=["src"],ot=e("div",{class:"text-gray-600 italic"},"Menyimpan Data",-1),st={key:1,class:"flex justify-between"},rt={class:"w-full bg-white"},lt={class:"w-full flex space-x-5"},nt=e("div",{class:"flex-none w-20 h-20 rounded bg-red-700 text-white flex items-center justify-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])],-1),dt={class:"flex-1"},it={class:"mb-3 text-base font-semibold"},ct=e("div",{class:"mb-3 text-sm"}," Data yang dihapus tidak bisa akan hilang secara permanen, apa anda ingin melanjutkan ? ",-1),ut={key:0,class:"flex items-center"},gt=["src"],pt=e("div",{class:"text-gray-600 italic"},"Menghapus Data",-1),mt={key:1,class:"flex justify-end items-center space-x-3"},xt=["onClick"],ht=["onClick"],kt={__name:"Mapel",setup(yt){const I=X(()=>Z(()=>import("./Pagination-807049bf.js"),["assets/Pagination-807049bf.js","assets/app-7f2918f6.js","assets/app-471fe251.css"])),{notify:x}=ee(),b=i([]),c=i({current_page:1,from:null,last_page:1,per_page:10,to:null,total:0}),v=N({filter:"",page:1,limit:10,order:"kode:asc"}),f=i(!1),w=i(!1),M=i(!1),C=i(!1),A=i(!1),E=i(!1),D=i(!1),s=N({id:null,kode:"",nama:""}),o=N({kode:null,nama:null}),L=()=>{s.id=null,s.kode="",s.nama="",o.kode=null,o.nama=null},m=async()=>{f.value=!0;try{const{data:a}=await instanceAdmin({url:"/admin/mapel",method:"GET",params:v});b.value=a.data,c.value=a.meta}catch(a){a.response.status==401&&(localStorage.removeItem("TOKEN"),location.reload())}finally{f.value=!1}},O=()=>{A.value=!0},S=()=>{A.value=!1,L()},z=async()=>{w.value=!0;try{const{data:a}=await instanceAdmin({url:"/admin/mapel",method:"POST",data:s});m(),S()}catch(a){if(a.response.status==401)localStorage.removeItem("TOKEN"),location.reload();else if(a.response.status==422){const t=a.response.data.errors;o.kode=t.kode?t.kode[0]:null,o.nama=t.nama?t.nama[0]:null}else x({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}finally{w.value=!1}},H=async a=>{try{const{data:t}=await instanceAdmin({url:`/admin/mapel/${a}/detail`,method:"GET"});s.id=a,s.kode=t.data.kode,s.nama=t.data.nama,E.value=!0}catch(t){t.response.status==401?(localStorage.removeItem("TOKEN"),location.reload()):x({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}},T=()=>{E.value=!1,L()},U=async()=>{M.value=!0;try{const{data:a}=await instanceAdmin({url:`/admin/mapel/${s.id}/update`,method:"POST",data:s});m(),T()}catch(a){if(a.response.status==401)localStorage.removeItem("TOKEN"),location.reload();else if(a.response.status==422){const t=a.response.data.errors;o.kode=t.kode?t.kode[0]:null,o.nama=t.nama?t.nama[0]:null}else x({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}finally{M.value=!1}},G=async a=>{try{const{data:t}=await instanceAdmin({url:`/admin/mapel/${a}/detail`,method:"GET"});s.id=a,s.kode=t.data.kode,s.nama=t.data.nama,D.value=!0}catch(t){t.response.status==401?(localStorage.removeItem("TOKEN"),location.reload()):x({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}},j=()=>{D.value=!1,L()},R=async()=>{C.value=!0;try{const{data:a}=await instanceAdmin({url:`/admin/mapel/${s.id}/delete`,method:"DELETE"});m(),j()}catch(a){if(a.response.status==401)localStorage.removeItem("TOKEN"),location.reload();else if(a.response.status==422){const t=a.response.data.errors;o.kode=t.kode?t.kode[0]:null,o.nama=t.nama?t.nama[0]:null}else x({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}finally{C.value=!1}},Y=a=>{v.page=a,m()};return J(()=>{m()}),(a,t)=>(r(),n(B,null,[e("div",te,[e("div",ae,[oe,e("div",null,[e("button",{class:"px-3 py-2 rounded border border-gray-300 text-xs text-gray-600 font-semibold hover:border-indigo-500 hover:bg-indigo-500 hover:text-white",onClick:t[0]||(t[0]=l=>O())},"Add")])]),e("div",se,[f.value?(r(),n("table",re,[le,e("tbody",null,[(r(),n(B,null,$(5,l=>e("tr",{key:l,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},ue)),64))])])):(r(),n("table",ge,[pe,b.value.length!=0?(r(),n("tbody",me,[(r(!0),n(B,null,$(b.value,(l,F)=>(r(),n("tr",{key:F,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[e("td",xe,d((c.value.current_page-1)*c.value.per_page+1+F),1),e("td",he,d(l.kode),1),e("td",ye,d(l.nama),1),e("td",be,[e("div",ve,[e("a",{onClick:y(q=>H(l.id),["prevent"]),href:"#",class:"block font-normal text-gray-600 hover:text-indigo-600"},_e,8,fe),e("a",{onClick:y(q=>G(l.id),["prevent"]),href:"#",class:"block font-normal text-gray-600 hover:text-red-600"},Ce,8,we)])])]))),128))])):(r(),n("tbody",Ae,De))])),f.value==!1&&b.value.length!=0?(r(),n("div",Le,[e("div",Se,[Te,h(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>v.limit=l),onChange:y(m,["prevent"]),class:"text-xs px-1 py-1 rounded"},Pe,40,je),[[Q,v.limit]]),e("div",null,"from "+d(c.value.from),1),e("div",null,"to "+d(c.value.to),1)]),e("div",null,[W(p(I),{total:c.value.total,currentPage:c.value.current_page,perPage:c.value.per_page,onChangePage:Y},null,8,["total","currentPage","perPage"])])])):u("",!0)])]),A.value?(r(),K(p(P),{key:0,size:"xl",onClose:S},{header:g(()=>[Ve]),body:g(()=>[e("div",Fe,[$e,h(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>s.kode=l),type:"text",id:"kode",class:_(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",o.kode?"border-red-400":"border-gray-300"]),onFocus:t[3]||(t[3]=l=>o.kode=null)},null,34),[[k,s.kode]]),o.kode?(r(),n("div",Ie,d(o.kode),1)):u("",!0)]),e("div",Oe,[ze,h(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>s.nama=l),type:"text",id:"nama",class:_(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",o.nama?"border-red-400":"border-gray-300"]),onFocus:t[5]||(t[5]=l=>o.nama=null)},null,34),[[k,s.nama]]),o.nama?(r(),n("div",He,d(o.nama),1)):u("",!0)])]),footer:g(()=>[w.value?(r(),n("div",Ue,[e("img",{src:p(V),alt:"",class:"w-8"},null,8,Ge),Re])):(r(),n("div",Ye,[e("button",{onClick:S,type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Batal "),e("button",{onClick:z,type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Simpan ")]))]),_:1})):u("",!0),E.value?(r(),K(p(P),{key:1,size:"xl",onClose:T},{header:g(()=>[qe]),body:g(()=>[e("div",Je,[Qe,h(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>s.kode=l),type:"text",id:"kode",class:_(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",o.kode?"border-red-400":"border-gray-300"]),onFocus:t[7]||(t[7]=l=>o.kode=null)},null,34),[[k,s.kode]]),o.kode?(r(),n("div",We,d(o.kode),1)):u("",!0)]),e("div",Xe,[Ze,h(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>s.nama=l),type:"text",id:"nama",class:_(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",o.nama?"border-red-400":"border-gray-300"]),onFocus:t[9]||(t[9]=l=>o.nama=null)},null,34),[[k,s.nama]]),o.nama?(r(),n("div",et,d(o.nama),1)):u("",!0)])]),footer:g(()=>[M.value?(r(),n("div",tt,[e("img",{src:p(V),alt:"",class:"w-8"},null,8,at),ot])):(r(),n("div",st,[e("button",{onClick:T,type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Batal "),e("button",{onClick:U,type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Simpan ")]))]),_:1})):u("",!0),D.value?(r(),K(p(P),{key:2,size:"xl",onClose:j},{body:g(()=>[e("div",rt,[e("div",lt,[nt,e("div",dt,[e("div",it," Apakah Anda yakin ingin menghapus mapel "+d(s.nama)+" ? ",1),ct])])])]),footer:g(()=>[C.value?(r(),n("div",ut,[e("img",{src:p(V),alt:"",class:"w-8"},null,8,gt),pt])):(r(),n("div",mt,[e("button",{onClick:y(R,["prevent"]),class:"px-4 py-2 rounded bg-indigo-500 text-white text-xs font-semibold border border-indigo-500 hover:bg-transparent hover:text-indigo-500"}," Ya, hapus ",8,xt),e("button",{onClick:y(j,["prevent"]),class:"px-4 py-2 rounded bg-red-500 text-white text-xs font-semibold border border-red-500 hover:bg-transparent hover:text-red-500"}," Batal ",8,ht)]))]),_:1})):u("",!0)],64))}};export{kt as default};
