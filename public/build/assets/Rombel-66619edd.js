import{r as i,b as V,l as X,o as r,c as n,d as e,F as k,s as M,e as x,J as $,w as _,t as d,h as Z,m as p,y as c,D as P,C as g,x as h,v as C,E as ee,k as te,_ as ae}from"./app-070cc789.js";import{D as T}from"./flowbite-vue-80e75022.js";import{l as I}from"./loader-50bc1437.js";const oe={class:"w-full relative overflow-x-auto shadow-md sm:rounded-lg"},se={class:"box-border px-6 py-3 border-b bg-white flex justify-between items-center"},le=e("h2",{class:"text-lg font-bold"},"Rombongan Belajar",-1),re={class:"relative overflow-x-auto w-full"},ne={key:0,class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},de=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 border-b"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 w-[10px]"},[e("span",{class:"bg-gray-300 text-gray-300 rounded"},"No")]),e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"bg-gray-300 text-gray-300 rounded"},"Kelas")]),e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"bg-gray-300 text-gray-300 rounded"},"Kode Rombel")]),e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"bg-gray-300 text-gray-300 rounded"},"Kode Rombel")]),e("th",{scope:"col",class:"px-6 py-3"},[e("div",{class:"sr-only"},"Aksi")])])],-1),ie=e("td",{class:"px-6 py-4 font-normal text-gray-900 whitespace-nowrap dark:text-white"},[e("span",{class:"bg-gray-300 text-gray-300 rounded"},"no")],-1),ce=e("td",{class:"px-6 py-4 font-normal text-gray-900 whitespace-nowrap dark:text-white"},[e("span",{class:"bg-gray-300 text-gray-300 rounded"},"Kelas")],-1),ue=e("td",{class:"px-6 py-4 font-normal text-gray-900 whitespace-nowrap dark:text-white"},[e("span",{class:"bg-gray-300 text-gray-300 rounded"},"kode Rombel")],-1),ge=e("td",{class:"px-6 py-4 font-normal text-gray-900 whitespace-nowrap dark:text-white"},[e("span",{class:"bg-gray-300 text-gray-300 rounded"},"nama Rombel")],-1),xe=e("td",{class:"px-6 py-4 text-right"},[e("div",{class:"w-full flex justify-end space-x-2"},[e("a",{href:"#",class:"rounded-lg overflow-hidden block font-normal bg-gray-300 text-gray-300"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.8",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})])]),e("a",{href:"#",class:"rounded-lg overflow-hidden block font-normal bg-gray-300 text-gray-300"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.8",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])])])],-1),pe=[ie,ce,ue,ge,xe],me={key:1,class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},be=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 border-b"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 w-[10px]"}," No "),e("th",{scope:"col",class:"px-6 py-3"}," Kelas "),e("th",{scope:"col",class:"px-6 py-3"}," Kode Rombel "),e("th",{scope:"col",class:"px-6 py-3"}," Nama Rombel "),e("th",{scope:"col",class:"px-6 py-3"},[e("div",{class:"sr-only"},"Aksi")])])],-1),ye={key:0},he={class:"px-6 py-4 font-normal text-gray-900 whitespace-nowrap dark:text-white"},ke={class:"px-6 py-4 font-normal text-gray-900 whitespace-nowrap dark:text-white"},_e={class:"px-6 py-4 font-normal text-gray-900 whitespace-nowrap dark:text-white"},ve={class:"px-6 py-4 font-normal text-gray-900 whitespace-nowrap dark:text-white"},fe={class:"px-6 py-4 text-right"},we={class:"w-full flex justify-end space-x-2"},Me=["onClick"],Ce=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.8",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),Ke=[Ce],Ae=["onClick"],Se=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.8",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),De=[Se],Le={key:1},je=e("tr",{class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[e("td",{colspan:"4",class:"text-center px-6 py-4 font-normal text-gray-900 whitespace-nowrap dark:text-white italic"},"Tidak Ada Data")],-1),Ee=[je],Re={key:2,class:"w-full border-t box-border bg-white flex items-center justify-between px-6 py-3"},Be={class:"flex items-center justify-center space-x-2 text-xs"},Ne=e("span",null,"showing",-1),Fe=["onChange"],Ve=e("option",{value:10},"10",-1),$e=e("option",{value:50},"50",-1),Pe=e("option",{value:100},"100",-1),Te=[Ve,$e,Pe],Ie=e("div",{class:"flex items-center text-lg"}," Tambah Rombongan Belajar ",-1),Oe={class:"mb-6"},ze=e("label",{for:"kelas",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kelas",-1),He=e("option",{value:""},"Pilih Kelas",-1),Ue=["value"],Je={key:0,class:"text-red-500 italic text-xs mt-1"},Ye={class:"mb-6"},qe=e("label",{for:"kode",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kode Rombel",-1),Ge={key:0,class:"text-red-500 italic text-[10px] mt-1"},Qe={class:"mb-6"},We=e("label",{for:"nama",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Nama Rombel",-1),Xe={key:0,class:"text-red-500 italic text-[10px] mt-1"},Ze={key:0,class:"flex items-center"},et=["src"],tt=e("div",{class:"text-gray-600 italic"},"Menyimpan Data",-1),at={key:1,class:"flex justify-between"},ot=e("div",{class:"flex items-center text-lg"}," Edit Rombongan Belajar ",-1),st={class:"mb-6"},lt=e("label",{for:"kelas",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kelas",-1),rt=e("option",{value:""},"Pilih Kelas",-1),nt=["value"],dt={key:0,class:"text-red-500 italic text-xs mt-1"},it={class:"mb-6"},ct=e("label",{for:"kode",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kode Rombel",-1),ut={key:0,class:"text-red-500 italic text-[10px] mt-1"},gt={class:"mb-6"},xt=e("label",{for:"nama",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Nama Rombel",-1),pt={key:0,class:"text-red-500 italic text-[10px] mt-1"},mt={key:0,class:"flex items-center"},bt=["src"],yt=e("div",{class:"text-gray-600 italic"},"Menyimpan Data",-1),ht={key:1,class:"flex justify-between"},kt={class:"w-full bg-white"},_t={class:"w-full flex space-x-5"},vt=e("div",{class:"flex-none w-20 h-20 rounded bg-red-700 text-white flex items-center justify-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])],-1),ft={class:"flex-1"},wt={class:"mb-3 text-base font-semibold"},Mt=e("div",{class:"mb-3 text-sm"}," Data yang dihapus tidak bisa akan hilang secara permanen, apa anda ingin melanjutkan ? ",-1),Ct={key:0,class:"flex items-center"},Kt=["src"],At=e("div",{class:"text-gray-600 italic"},"Menghapus Data",-1),St={key:1,class:"flex justify-end items-center space-x-3"},Dt=["onClick"],Lt=["onClick"],Nt={__name:"Rombel",setup(jt){const O=ee(()=>ae(()=>import("./Pagination-b7d5a468.js"),["assets/Pagination-b7d5a468.js","assets/app-070cc789.js","assets/app-471fe251.css"])),{notify:m}=te(),v=i([]),u=i({current_page:1,from:null,last_page:1,per_page:10,to:null,total:0}),f=V({filter:"",page:1,limit:10,order:"kode:asc"}),w=i(!1),K=i(!1),A=i(!1),S=i(!1),D=i(!1),L=i(!1),j=i(!1),l=V({id:null,id_kelas:"",kode:"",nama:""}),a=V({id_kelas:null,kode:null,nama:null}),E=i([]),z=async()=>{try{const{data:s}=await axios.get("/opt/kelas");E.value=s.data}catch(s){s.response.status==401?(localStorage.removeItem("TOKEN"),location.reload()):m({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}},R=()=>{l.id=null,l.id_kelas="",l.kode="",l.nama="",a.id_kelas=null,a.kode=null,a.nama=null},b=async()=>{w.value=!0;try{const{data:s}=await axios.get("/admin/rombel",{params:f});v.value=s.data,u.value=s.meta}catch(s){s.response.status==401&&(localStorage.removeItem("TOKEN"),location.reload())}finally{w.value=!1}},H=()=>{D.value=!0},B=()=>{D.value=!1,R()},U=async()=>{K.value=!0;try{const{data:s}=await axios.post("/admin/rombel",l);b(),B()}catch(s){if(s.response.status==401)localStorage.removeItem("TOKEN"),location.reload();else if(s.response.status==422){const t=s.response.data.errors;a.id_kelas=t.id_kelas?t.id_kelas[0]:null,a.kode=t.kode?t.kode[0]:null,a.nama=t.nama?t.nama[0]:null}else m({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}finally{K.value=!1}},J=async s=>{try{const{data:t}=await axios.get(`/admin/rombel/${s}/detail`);l.id=s,l.id_kelas=t.data.id_kelas,l.kode=t.data.kode,l.nama=t.data.nama,L.value=!0}catch(t){t.response.status==401?(localStorage.removeItem("TOKEN"),location.reload()):m({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}},N=()=>{L.value=!1,R()},Y=async()=>{A.value=!0;try{const{data:s}=await axios.post(`/admin/rombel/${l.id}/update`,l);b(),N()}catch(s){if(s.response.status==401)localStorage.removeItem("TOKEN"),location.reload();else if(s.response.status==422){const t=s.response.data.errors;a.kode=t.kode?t.kode[0]:null,a.nama=t.nama?t.nama[0]:null}else m({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}finally{A.value=!1}},q=async s=>{try{const{data:t}=await axios.get(`/admin/rombel/${s}/detail`);l.id=s,l.kode=t.data.kode,l.nama=t.data.nama,j.value=!0}catch(t){t.response.status==401?(localStorage.removeItem("TOKEN"),location.reload()):m({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}},F=()=>{j.value=!1,R()},G=async()=>{S.value=!0;try{const{data:s}=await axios.delete(`/admin/rombel/${l.id}/delete`,l);b(),F()}catch(s){if(s.response.status==401)localStorage.removeItem("TOKEN"),location.reload();else if(s.response.status==422){const t=s.response.data.errors;a.kode=t.kode?t.kode[0]:null,a.nama=t.nama?t.nama[0]:null}else m({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}finally{S.value=!1}},Q=s=>{f.page=s,b()};return X(()=>{b(),z()}),(s,t)=>(r(),n(k,null,[e("div",oe,[e("div",se,[le,e("div",null,[e("button",{class:"px-3 py-2 rounded border border-gray-300 text-xs text-gray-600 font-semibold hover:border-indigo-500 hover:bg-indigo-500 hover:text-white",onClick:t[0]||(t[0]=o=>H())},"Add")])]),e("div",re,[w.value?(r(),n("table",ne,[de,e("tbody",null,[(r(),n(k,null,M(5,o=>e("tr",{key:o,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},pe)),64))])])):(r(),n("table",me,[be,v.value.length!=0?(r(),n("tbody",ye,[(r(!0),n(k,null,M(v.value,(o,y)=>(r(),n("tr",{key:y,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[e("td",he,d((u.value.current_page-1)*u.value.per_page+1+y),1),e("td",ke,d(o.kelas),1),e("td",_e,d(o.kode),1),e("td",ve,d(o.nama),1),e("td",fe,[e("div",we,[e("a",{onClick:_(W=>J(o.id),["prevent"]),href:"#",class:"block font-normal text-gray-600 hover:text-indigo-600"},Ke,8,Me),e("a",{onClick:_(W=>q(o.id),["prevent"]),href:"#",class:"block font-normal text-gray-600 hover:text-red-600"},De,8,Ae)])])]))),128))])):(r(),n("tbody",Le,Ee))])),w.value==!1&&v.value.length!=0?(r(),n("div",Re,[e("div",Be,[Ne,x(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>f.limit=o),onChange:_(b,["prevent"]),class:"text-xs px-1 py-1 rounded"},Te,40,Fe),[[$,f.limit]]),e("div",null,"from "+d(u.value.from),1),e("div",null,"to "+d(u.value.to),1)]),e("div",null,[Z(p(O),{total:u.value.total,currentPage:u.value.current_page,perPage:u.value.per_page,onChangePage:Q},null,8,["total","currentPage","perPage"])])])):c("",!0)])]),D.value?(r(),P(p(T),{key:0,size:"xl",onClose:B},{header:g(()=>[Ie]),body:g(()=>[e("div",Oe,[ze,x(e("select",{id:"kelas","onUpdate:modelValue":t[2]||(t[2]=o=>l.id_kelas=o),class:h(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",a.id_kelas?"border-red-400":"border-gray-300"]),onFocus:t[3]||(t[3]=o=>a.id_kelas=null)},[He,(r(!0),n(k,null,M(E.value,(o,y)=>(r(),n("option",{key:y,value:o.id},d(o.text),9,Ue))),128))],34),[[$,l.id_kelas]]),a.id_kelas?(r(),n("div",Je,d(a.id_kelas),1)):c("",!0)]),e("div",Ye,[qe,x(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>l.kode=o),type:"text",id:"kode",class:h(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",a.kode?"border-red-400":"border-gray-300"]),onFocus:t[5]||(t[5]=o=>a.kode=null)},null,34),[[C,l.kode]]),a.kode?(r(),n("div",Ge,d(a.kode),1)):c("",!0)]),e("div",Qe,[We,x(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>l.nama=o),type:"text",id:"nama",class:h(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",a.nama?"border-red-400":"border-gray-300"]),onFocus:t[7]||(t[7]=o=>a.nama=null)},null,34),[[C,l.nama]]),a.nama?(r(),n("div",Xe,d(a.nama),1)):c("",!0)])]),footer:g(()=>[K.value?(r(),n("div",Ze,[e("img",{src:p(I),alt:"",class:"w-8"},null,8,et),tt])):(r(),n("div",at,[e("button",{onClick:B,type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Batal "),e("button",{onClick:U,type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Simpan ")]))]),_:1})):c("",!0),L.value?(r(),P(p(T),{key:1,size:"xl",onClose:N},{header:g(()=>[ot]),body:g(()=>[e("div",st,[lt,x(e("select",{id:"kelas","onUpdate:modelValue":t[8]||(t[8]=o=>l.id_kelas=o),class:h(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",a.id_kelas?"border-red-400":"border-gray-300"]),onFocus:t[9]||(t[9]=o=>a.id_kelas=null)},[rt,(r(!0),n(k,null,M(E.value,(o,y)=>(r(),n("option",{key:y,value:o.id},d(o.text),9,nt))),128))],34),[[$,l.id_kelas]]),a.id_kelas?(r(),n("div",dt,d(a.id_kelas),1)):c("",!0)]),e("div",it,[ct,x(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>l.kode=o),type:"text",id:"kode",class:h(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",a.kode?"border-red-400":"border-gray-300"]),onFocus:t[11]||(t[11]=o=>a.kode=null)},null,34),[[C,l.kode]]),a.kode?(r(),n("div",ut,d(a.kode),1)):c("",!0)]),e("div",gt,[xt,x(e("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>l.nama=o),type:"text",id:"nama",class:h(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",a.nama?"border-red-400":"border-gray-300"]),onFocus:t[13]||(t[13]=o=>a.nama=null)},null,34),[[C,l.nama]]),a.nama?(r(),n("div",pt,d(a.nama),1)):c("",!0)])]),footer:g(()=>[A.value?(r(),n("div",mt,[e("img",{src:p(I),alt:"",class:"w-8"},null,8,bt),yt])):(r(),n("div",ht,[e("button",{onClick:N,type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Batal "),e("button",{onClick:Y,type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Simpan ")]))]),_:1})):c("",!0),j.value?(r(),P(p(T),{key:2,size:"xl",onClose:F},{body:g(()=>[e("div",kt,[e("div",_t,[vt,e("div",ft,[e("div",wt," Apakah Anda yakin ingin menghapus Rombel "+d(l.nama)+" ? ",1),Mt])])])]),footer:g(()=>[S.value?(r(),n("div",Ct,[e("img",{src:p(I),alt:"",class:"w-8"},null,8,Kt),At])):(r(),n("div",St,[e("button",{onClick:_(G,["prevent"]),class:"px-4 py-2 rounded bg-indigo-500 text-white text-xs font-semibold border border-indigo-500 hover:bg-transparent hover:text-indigo-500"}," Ya, hapus ",8,Dt),e("button",{onClick:_(F,["prevent"]),class:"px-4 py-2 rounded bg-red-500 text-white text-xs font-semibold border border-red-500 hover:bg-transparent hover:text-red-500"}," Batal ",8,Lt)]))]),_:1})):c("",!0)],64))}};export{Nt as default};
