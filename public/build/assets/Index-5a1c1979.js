import{u as te,l as P,o as l,c as a,d as e,t as g,m as K,n as se,a as oe,r,b as le,q as ae,i as D,w as c,F as B,s as V,x as A,e as I,y as j}from"./app-b71e8e92.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";const re={class:"w-full h-[60px] bg-[#171F46] text-white flex items-center justify-between box-border px-4 lg:px-8"},ie=e("div",null,[e("div",{class:"font-semibold"},"DMZ LMS")],-1),de={class:""},ce={class:"flex justify-center items-center group"},ue=e("div",{class:"w-8 h-8 rounded-full box-border overflow-hidden flex items-center justify-center mr-1"},[e("img",{class:"w-full",src:"https://cdn1.iconfinder.com/data/icons/user-pictures/100/female1-512.png",alt:"User"})],-1),ve={class:"flex flex-col items-center truncate"},he={class:"truncate ml-2 text-xs font-semibold group-hover:text-gray-400 capitalize"},_e={__name:"Header",setup(F){const{userSiswa:v}=te(),w=JSON.parse(v);return P(()=>{console.log(w)}),(f,m)=>(l(),a("div",re,[ie,e("div",de,[e("button",ce,[ue,e("div",ve,[e("span",he,g(K(w).nama)+" .",1)])])])]))}},be={},ge={xmlns:"http://www.w3.org/2000/svg",id:"Isolation_Mode","data-name":"Isolation Mode",viewBox:"0 0 24 24",class:"w-full h-full fill-current"},pe=e("path",{d:"M7.8,21.425A2.542,2.542,0,0,1,6,20.679L.439,15.121,2.561,13,7.8,18.239,21.439,4.6l2.122,2.121L9.6,20.679A2.542,2.542,0,0,1,7.8,21.425Z"},null,-1),we=[pe];function xe(F,v){return l(),a("svg",ge,we)}const z=ne(be,[["render",xe]]),fe={key:0,class:"w-screen h-screen box-border overflow-x-hidden overflow-y-auto relative bg-[#F2F2F2] text-[#424242] font-poppins text-[13px] relative"},me={class:"w-full relative box-border overflow-x-hidden oveflow-y-auto p-4 lg:p-8",style:{height:"calc(100vh - 60px)"}},ye={class:"w-full box-border rounded-[10px] shadow-2xl bg-white p-4"},ke={class:"w-full box-border flex items-center justify-between border-b border-gray-300 pb-3"},je={class:"w-1/2 box-border"},Se={class:"text-base flex items-center justify-start"},$e=e("div",{class:"mr-2"},"Soal Nomor",-1),Me={class:"font-bold text-[#7F83FF]"},Ce={class:"w-1/2 box-border flex items-center justify-end"},Te={class:"rounded-[10px] lg:rounded-full px-4 py-1.5 text-xs border border-red-500 text-gray-600 mr-3 lg:mr-5 flex items-center justify-center"},De=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5 mr-2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Be=e("div",{class:"mr-2"},[e("span",{class:"hidden lg:inline"},"Siswa Waktu"),j(" :")],-1),Ae={class:"font-semibold"},Ie=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-5 h-5 lg:mr-2"},[e("path",{"fill-rule":"evenodd",d:"M3 6a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm9.75 0a3 3 0 013-3H18a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3V6zM3 15.75a3 3 0 013-3h2.25a3 3 0 013 3V18a3 3 0 01-3 3H6a3 3 0 01-3-3v-2.25zm9.75 0a3 3 0 013-3H18a3 3 0 013 3V18a3 3 0 01-3 3h-2.25a3 3 0 01-3-3v-2.25z","clip-rule":"evenodd"})],-1),Fe=e("div",{class:"hidden lg:block"},"Daftar Soal",-1),Le=[Ie,Fe],Oe={class:"w-full box-border border border-gray-300 mt-4 p-4 rounded"},Re={key:0,class:"w-full box-border"},He=["innerHTML"],Je={class:"w-full box-border"},Ne=["onClick"],Ve={key:0,class:"w-3.5 h-3.5"},ze={key:1,class:"font-bold text-sm"},Pe=["onClick","innerHTML"],Ke={key:1,class:"w-full"},Ee=e("p",null,"Tidak ada soal yang dapat di tampilkan",-1),We=[Ee],Ue={class:"w-full box-border flex items-center justify-between box-border py-4 pt-8 px-0 lg:px-10"},Ze=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"currentColor",class:"h-5 w-5 lg:w-3 lg:h-3 lg:mr-2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})],-1),qe=e("div",{class:"hidden lg:block"},"Sebelumnya",-1),Ge=[Ze,qe],Qe={class:"w-2.5 h-2.5 text-white"},Xe=e("div",null,"Ragu-ragu",-1),Ye=e("div",{class:"hidden lg:block mr-2"},"Selanjutnya",-1),et=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"currentColor",class:"h-5 w-5 lg:w-3 lg:h-3"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})],-1),tt=[Ye,et],st=e("div",{class:"hidden lg:block mr-2"},"Selesai",-1),ot=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"currentColor",class:"h-5 w-5 lg:w-3 lg:h-3"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})],-1),lt=[st,ot],at={key:1,class:"w-screen h-screen absolute top-0 bg-blue-500/20 lg:flex lg:items-center lg:justify-center p-4 lg:p-0 backdrop-blur-lg"},nt={class:"w-full lg:w-[700px] bg-white rounded overflow-x-hidden shadow-lg"},rt={class:"bg-gray-200 px-4 py-3 flex items-center justify-between"},it=e("div",{class:"font-semibold"},"Daftar Soal",-1),dt=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),ct=[dt],ut={class:"w-full p-4 box-border"},vt={class:"w-full box-border grid grid-cols-5 lg:grid-cols-10 gap-3"},ht=["onClick"],_t={class:"font-semibold lg:text-lg"},bt={key:2,class:"w-screen h-screen absolute top-0 bg-blue-500/20 lg:flex lg:items-center lg:justify-center p-4 lg:p-0 backdrop-blur-lg"},gt={class:"w-full lg:w-[480px] bg-white rounded overflow-x-hidden shadow-lg"},pt=e("div",{class:"bg-gray-200 px-4 py-3 flex items-center justify-between"},[e("div",{class:"font-semibold text-lg"},"Konfirmasi Selesai Tes")],-1),wt={class:"w-full p-4 box-border"},xt={class:"w-full box-border"},ft=e("h1",{class:"mb-3"},"Apakah anda yakin ingin mengakhiri Tes ?",-1),mt=e("p",{class:"mb-6"},[j("Silahkan cek kembali jawaban anda dan tekan tombol "),e("span",{class:"font-bold text-green-500"},"Kembali"),j(" jika anda kurang yakin. Atau jika anda benar-benar yakin silahkan tekan tombol "),e("span",{class:"font-bold text-red-500"},"Selesai Tes"),j(" untuk mengakhiri tes.")],-1),yt={class:"w-full flex items-center justify-center"},St={__name:"Index",setup(F){const v=se(),w=oe(),f=r(!1),m=r(!1),u=r(1),h=r(null),b=r(!1),_=r(null),S=r([]),L=r([{id:"A",opt:"A",text:"Jawaban A"},{id:"B",opt:"B",text:"Jawaban B"},{id:"C",opt:"C",text:"Jawaban C"},{id:"D",opt:"D",text:"Jawaban D"}]);r(new Date("11/29/2023 14:00:00"));const E=r(null),O=r(null),R=r(null),H=r(null),n=le(JSON.parse(localStorage.getItem("ujianSiswa"))),y=async()=>{try{const{data:o}=await instanceSiswa({url:`/peserta/tes/${n.soal.id}/get-soal-item`,method:"POST",data:{nomor_soal:u.value}}),t=o.data;_.value=t,L.value=[{id:"A",opt:"A",text:t.pil_a},{id:"B",opt:"B",text:t.pil_b},{id:"C",opt:"C",text:t.pil_c},{id:"D",opt:"D",text:t.pil_d}]}catch(o){o.response.status==401&&(localStorage.removeItem("TOKENSISWA"),localStorage.removeItem("USERSISWA"),v.setRunningTest(null),v.setDataTest(null),location.reload()),_.value=null}},k=async()=>{try{const{data:o}=await instanceSiswa({url:`/peserta/tes/${n.id}/get-jawaban`,method:"POST",data:{nomor_soal:u.value}}),t=o.data;h.value=t.jawaban,b.value=t.is_ragu}catch(o){o.response.status==404&&(h.value=null,b.value=0)}},J=async o=>{h.value=o;try{const t={id_soal:n.soal.id,id_soal_item:_.value.id,is_ragu:b.value?1:0,jawaban:o,kunci:_.value.kunci_jawaban},{data:d}=await instanceSiswa({url:`/peserta/tes/${n.id}/jawab-soal`,method:"POST",data:t})}catch{h.value=null}},W=async()=>{b.value=!b.value;try{const o={id_soal:n.soal.id,id_soal_item:_.value.id,is_ragu:b.value?1:0,jawaban:h.value,kunci:_.value.kunci_jawaban},{data:t}=await instanceSiswa({url:`/peserta/tes/${n.id}/jawab-soal`,method:"POST",data:o})}catch{h.value=null}},U=()=>{u.value<=1||(u.value-=1,y(),k())},Z=()=>{u.value>=n.soal.jml_pg||(u.value+=1,y(),k())},q=o=>{u.value=o,y(),k(),N()};setInterval(()=>{const o=new Date(n.max_time),t=1e3,d=t*60,s=d*60,i=s*24;var p=new Date,x=o-p;if(x<0){clearInterval();return}var $=Math.floor(x/i),M=Math.floor(x%i/s),C=Math.floor(x%s/d),T=Math.floor(x%d/t);E.value=$>9?$:`0${$}`,O.value=M>9?M:`0${M}`,R.value=C>9?C:`0${C}`,H.value=T>9?T:`0${T}`},1e3);const G=async()=>{try{const{data:o}=await instanceSiswa({url:`/peserta/tes/${n.id}/get-all-jawaban`,method:"POST"}),t=o.data,d=[];for(let s=1;s<=parseInt(n.soal.jml_pg);s++){let i=t.find(p=>p.no_soal==s);i?d.push({id:i.id,no:s,is_ragu:i.is_ragu,is_jawab:i.is_jawab,jawaban:i.jawaban}):d.push({id:null,no:s,is_ragu:0,is_jawab:0,jawaban:null})}S.value=d}catch{}finally{f.value=!0}},N=()=>{S.value=[],f.value=!1},Q=()=>{m.value=!0},X=()=>{m.value=!1},Y=()=>{v.isRunningTest==0&&w.push({path:"/ujian"})},ee=async()=>{await v.stopTest(n.id,n.soal.jml_pg),w.push("/ujian")};return ae(()=>{Y()}),P(()=>{v.isRunningTest==1&&(y(),k())}),(o,t)=>{var d;return l(),a(B,null,[K(v).isRunningTest==1?(l(),a("div",fe,[D(_e),e("div",me,[e("div",ye,[e("div",ke,[e("div",je,[e("div",Se,[$e,e("div",Me,g(u.value),1)])]),e("div",Ce,[e("div",Te,[De,Be,e("div",Ae,g(O.value)+":"+g(R.value)+":"+g(H.value),1)]),e("button",{class:"rounded-[10px] lg:rounded-full px-1.5 lg:px-4 py-1.5 text-xs bg-[#7F83FF] text-white flex items-center justify-center",onClick:t[0]||(t[0]=c(s=>G(),["prevent"]))},Le)])]),e("div",Oe,[_.value!=null?(l(),a("div",Re,[e("div",{class:"mb-8",innerHTML:(d=_.value)==null?void 0:d.text_soal},null,8,He),e("div",Je,[(l(!0),a(B,null,V(L.value,(s,i)=>(l(),a("div",{key:i,class:"box-border flex items-start mb-5"},[e("button",{class:A(["flex-none w-6 h-6 rounded-full border-2 flex items-center justify-center mr-3",h.value==s.id?"border-blue-500 text-white bg-blue-500":"border-gray-300 text-gray-300 hover:border-blue-500 hover:text-blue-500"]),onClick:c(p=>J(s.id),["prevent"])},[h.value==s.id?(l(),a("div",Ve,[D(z)])):(l(),a("div",ze,g(s.opt),1))],10,Ne),e("div",{onClick:c(p=>J(s.id),["prevent"]),class:"cursor-pointer",innerHTML:s.text},null,8,Pe)]))),128))])])):(l(),a("div",Ke,We))]),e("div",Ue,[e("button",{onClick:t[1]||(t[1]=c(s=>U(),["prevent"])),class:"px-4 py-2 rounded-lg lg:rounded-full lg:px-8 lg:py-2 flex items-center justify-center font-semibold text-red-600 bg-red-300 hover:bg-red-600 hover:text-white"},Ge),e("button",{onClick:t[2]||(t[2]=c(s=>W(),["prevent"])),class:"cursor-pointer px-4 py-2 rounded-lg lg:rounded-full lg:px-8 lg:py-2 flex items-center justify-center font-semibold text-orange-600 bg-orange-300 hover:bg-orange-600 hover:text-white"},[e("div",{class:A(["w-4 h-4 mr-2 rounded flex items-center justify-center",b.value?"bg-blue-600":"bg-white"])},[e("div",Qe,[D(z)])],2),Xe]),u.value<n.soal.jml_pg?(l(),a("button",{key:0,onClick:t[3]||(t[3]=c(s=>Z(),["prevent"])),class:"px-4 py-2 rounded-lg lg:rounded-full lg:px-8 lg:py-2 flex items-center justify-center font-semibold text-blue-600 bg-blue-300 hover:bg-blue-600 hover:text-white"},tt)):(l(),a("button",{key:1,onClick:t[4]||(t[4]=c(s=>Q(),["prevent"])),class:"px-4 py-2 rounded-lg lg:rounded-full lg:px-8 lg:py-2 flex items-center justify-center font-semibold text-blue-600 bg-blue-300 hover:bg-blue-600 hover:text-white"},lt))])])])])):I("",!0),f.value?(l(),a("div",at,[e("div",nt,[e("div",rt,[it,e("button",{class:"text-gray-500 hover:text-red-500",onClick:t[5]||(t[5]=c(s=>N(),["prevent"]))},ct)]),e("div",ut,[e("div",vt,[(l(!0),a(B,null,V(S.value,(s,i)=>(l(),a("div",{key:i,onClick:c(p=>q(s.no),["prevent"]),class:"cursor-pointer box-border flex items-center justify-center"},[e("div",{class:A(["w-14 h-14 rounded box-border border border-gray-400 flex items-center justify-center",[u.value==s.no?"bg-gray-400 text-white":"text-gray-400",s.is_jawab==1?"bg-green-400 text-white":"",s.is_ragu==1?"bg-orange-400 text-white":""]])},[e("span",_t,g(s.no),1)],2)],8,ht))),128))])])])])):I("",!0),m.value?(l(),a("div",bt,[e("div",gt,[pt,e("div",wt,[e("div",xt,[ft,mt,e("div",yt,[e("button",{onClick:t[6]||(t[6]=c(s=>ee(),["prevent"])),class:"px-4 py-2 rounded-lg lg:rounded-full lg:px-8 lg:py-2 flex items-center justify-center font-semibold text-white bg-red-500 hover:bg-red-800 mr-3"},"Selesai Tes"),e("button",{onClick:t[7]||(t[7]=c(s=>X(),["prevent"])),class:"px-4 py-2 rounded-lg lg:rounded-full lg:px-8 lg:py-2 flex items-center justify-center font-semibold text-white bg-green-500 hover:bg-green-800"},"Kembali")])])])])])):I("",!0)],64)}}};export{St as default};
