import{a as U,z as O,r as c,b as E,l as N,o as r,c as d,d as l,f as n,v as g,x as u,t as i,e as m,I as p,F as y,s as f,m as v,K as A}from"./app-dafe0949.js";import{l as B}from"./loader-50bc1437.js";const I={class:"w-full box-border p-5"},R={class:"w-full relative overflow-x-auto shadow-md sm:rounded-lg"},D=l("div",{class:"box-border px-6 py-6 border-b bg-white flex justify-between items-center"},[l("h2",{class:"text-lg font-bold"},"Edit Soal")],-1),C={class:"w-full p-6 box-border bg-white"},z={class:"w-full flex flex-col lg:flex-row lg:space-x-3"},J={class:"mb-6 w-2/3"},L=l("label",{for:"nama",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Judul / Nama Soal",-1),X={key:0,class:"text-red-500 italic text-xs mt-1"},Y={class:"mb-6 w-1/3"},q=l("label",{for:"kkm",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"KKM",-1),H={key:0,class:"text-red-500 italic text-xs mt-1"},Q={class:"w-full flex flex-col lg:flex-row lg:space-x-3"},W={class:"mb-6 w-1/3"},Z=l("label",{for:"kelas",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kelas",-1),ee=l("option",{value:""},"Pilih Kelas",-1),te=["value"],le={key:0,class:"text-red-500 italic text-xs mt-1"},oe={class:"mb-6 w-1/3"},se=l("label",{for:"mapel",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Mata Pelajaran",-1),ae=l("option",{value:""},"Pilih Mapel",-1),re=["value"],de={key:0,class:"text-red-500 italic text-xs mt-1"},ie={class:"mb-6 w-1/3"},ne=l("label",{for:"guru",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Guru Pengampu",-1),ue=l("option",{value:""},"Pilih Guru",-1),me=["value"],be={key:0,class:"text-red-500 italic text-xs mt-1"},_e={class:"w-full flex flex-col lg:flex-row lg:space-x-3"},ce={class:"mb-6 w-1/3"},ge=l("label",{for:"kelas",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Rombel",-1),pe=l("option",{value:""},"Pilih Rombel",-1),xe=["value"],ye={key:0,class:"text-red-500 italic text-xs mt-1"},fe={class:"mb-6 w-1/3"},ke=l("label",{for:"mapel",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Tipe Soal",-1),ve=l("option",{value:""},"Pilih Tipe Soal",-1),he=l("option",{value:"pg_essay"},"Pilihan Ganda dan Essay",-1),we=l("option",{value:"pg"},"Pilihan Ganda",-1),je=l("option",{value:"essay"},"Essay",-1),Se=[ve,he,we,je],Fe={key:0,class:"text-red-500 italic text-xs mt-1"},Ee={class:"mb-6 w-1/3"},Te=l("label",{for:"guru",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Soal Agama",-1),Ge=l("option",{value:1},"Ya",-1),Me=l("option",{value:0},"Tidak",-1),$e=[Ge,Me],Pe={key:0,class:"text-red-500 italic text-xs mt-1"},Ve={class:"w-full flex flex-col lg:flex-row lg:space-x-3"},Ke={class:"mb-6 w-1/3"},Ue=l("label",{for:"jml_pg",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Jumlah Soal Pilihan Ganda",-1),Oe={key:0,class:"text-red-500 italic text-xs mt-1"},Ne={class:"mb-6 w-1/3"},Ae=l("label",{for:"bobot_pg",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Bobot Pilihan Ganda",-1),Be={key:0,class:"text-red-500 italic text-xs mt-1"},Ie={class:"w-full flex flex-col lg:flex-row lg:space-x-3"},Re={class:"mb-6 w-1/3"},De=l("label",{for:"jml_essay",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Jumlah Soal Pilihan Ganda",-1),Ce={key:0,class:"text-red-500 italic text-xs mt-1"},ze={class:"mb-6 w-1/3"},Je=l("label",{for:"bobot_essay",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Bobot Pilihan Ganda",-1),Le={key:0,class:"text-red-500 italic text-xs mt-1"},Xe={class:"border-t px-6 py-4 box-order"},Ye={key:0,class:"flex items-center justify-end"},qe={class:"flex items-center"},He=["src"],Qe=l("div",{class:"text-gray-600 italic"},"Menyimpan Data",-1),We={key:1,class:"flex justify-end"},lt={__name:"Edit",setup(Ze){const h=U(),x=O(),{notify:_}=A(),w=c([]),j=c([]),S=c([]),F=c([]),k=c(!1),T=c(!1),s=E({id_mapel:"",id_guru:"",id_kelas:"",id_rombel:"",kode:"",tipe_mapel_soal:"",tipe_soal:"",nama:"",jml_pg:"",jml_essay:"",bobot_pg:"",bobot_essay:"",jml_pil_essay:"",kkm:"",is_agama:0,is_active:""}),t=E({id_mapel:null,id_guru:null,id_kelas:null,id_rombel:null,kode:null,tipe_mapel_soal:null,tipe_soal:null,nama:null,jml_pg:null,jml_essay:null,bobot_pg:null,bobot_essay:null,jml_pil_essay:null,kkm:null,is_agama:null,is_active:null}),G=async()=>{try{const{data:a}=await instanceAdmin({url:"/opt/kelas",method:"GET"});w.value=a.data}catch(a){a.response.status==401?(localStorage.removeItem("TOKEN"),location.reload()):_({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}},M=async()=>{try{const{data:a}=await instanceAdmin({url:"/opt/mapel",method:"GET"});j.value=a.data}catch(a){a.response.status==401?(localStorage.removeItem("TOKEN"),location.reload()):_({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}},$=async()=>{try{const{data:a}=await instanceAdmin({url:"/opt/rombel",method:"GET"});S.value=a.data}catch(a){a.response.status==401?(localStorage.removeItem("TOKEN"),location.reload()):_({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}},P=async()=>{try{const{data:a}=await instanceAdmin({url:"/opt/guru",method:"GET"});F.value=a.data}catch(a){a.response.status==401?(localStorage.removeItem("TOKEN"),location.reload()):_({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}},V=async()=>{k.value=!0;try{const{data:a}=await instanceAdmin({url:`/admin/soal/${x.params.id}/detail`,method:"GET"}),e=a.data;s.id_mapel=e.id_mapel,s.id_guru=e.id_guru,s.id_kelas=e.id_kelas,s.id_rombel=e.id_rombel,s.tipe_soal=e.tipe_soal,s.nama=e.nama,s.jml_pg=e.jml_pg,s.jml_essay=e.jml_essay,s.bobot_pg=e.bobot_pg,s.bobot_essay=e.bobot_essay,s.kkm=e.kkm,s.is_agama=e.is_agama}catch(a){a.response.status==401&&(localStorage.removeItem("TOKEN"),location.reload())}finally{k.value=!1}},K=async()=>{try{const{data:a}=await instanceAdmin({url:`/admin/soal/${x.params.id}/update`,method:"POST",data:s});_({text:"Berhasil ubah soal",type:"success",duration:2e3}),h.push({name:"detailSoal",params:{id:x.params.id}})}catch(a){if(a.response.status==401)localStorage.removeItem("TOKEN"),location.reload();else if(a.response.status==422){const e=a.response.data.errors;t.id_mapel=e.id_mapel?e.id_mapel[0]:null,t.id_guru=e.id_guru?e.id_guru[0]:null,t.id_kelas=e.id_kelas?e.id_kelas[0]:null,t.id_rombel=e.id_rombel?e.id_rombel[0]:null,t.tipe_mapel_soal=e.tipe_mapel_soal?e.tipe_mapel_soal[0]:null,t.tipe_soal=e.tipe_soal?e.tipe_soal[0]:null,t.nama=e.nama?e.nama[0]:null,t.jml_pg=e.jml_pg?e.jml_pg[0]:null,t.jml_essay=e.jml_essay?e.jml_essay[0]:null,t.bobot_pg=e.bobot_pg?e.bobot_pg[0]:null,t.bobot_essay=e.bobot_essay?e.bobot_essay[0]:null,t.jml_pil_essay=e.jml_pil_essay?e.jml_pil_essay[0]:null,t.kkm=e.kkm?e.kkm[0]:null,t.is_agama=e.is_agama?e.is_agama[0]:null}else _({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}finally{k.value=!1}};return N(()=>{G(),P(),M(),$(),V()}),(a,e)=>(r(),d("div",I,[l("div",R,[D,l("div",C,[l("div",z,[l("div",J,[L,n(l("textarea",{id:"nama","onUpdate:modelValue":e[0]||(e[0]=o=>s.nama=o),rows:"1",class:u(["block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border focus:ring-blue-500 focus:border-blue-500",t.nama?"border-red-400":"border-gray-300"]),placeholder:"Soal Matematika X ...",onFocus:e[1]||(e[1]=o=>t.nama=null)},null,34),[[g,s.nama]]),t.nama?(r(),d("div",X,i(t.nama),1)):m("",!0)]),l("div",Y,[q,n(l("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.kkm=o),type:"number",id:"kkm",class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.kkm?"border-red-400":"border-gray-300"]),onFocus:e[3]||(e[3]=o=>t.kkm=null)},null,34),[[g,s.kkm]]),t.kkm?(r(),d("div",H,i(t.kkm),1)):m("",!0)])]),l("div",Q,[l("div",W,[Z,n(l("select",{id:"kelas","onUpdate:modelValue":e[4]||(e[4]=o=>s.id_kelas=o),class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.id_kelas?"border-red-400":"border-gray-300"]),onFocus:e[5]||(e[5]=o=>t.id_kelas=null)},[ee,(r(!0),d(y,null,f(w.value,(o,b)=>(r(),d("option",{key:b,value:o.id},i(o.text),9,te))),128))],34),[[p,s.id_kelas]]),t.id_kelas?(r(),d("div",le,i(t.id_kelas),1)):m("",!0)]),l("div",oe,[se,n(l("select",{id:"mapel","onUpdate:modelValue":e[6]||(e[6]=o=>s.id_mapel=o),class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.id_mapel?"border-red-400":"border-gray-300"]),onFocus:e[7]||(e[7]=o=>t.id_mapel=null)},[ae,(r(!0),d(y,null,f(j.value,(o,b)=>(r(),d("option",{key:b,value:o.id},i(o.text),9,re))),128))],34),[[p,s.id_mapel]]),t.id_mapel?(r(),d("div",de,i(t.id_mapel),1)):m("",!0)]),l("div",ie,[ne,n(l("select",{id:"guru","onUpdate:modelValue":e[8]||(e[8]=o=>s.id_guru=o),class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.id_guru?"border-red-400":"border-gray-300"]),onFocus:e[9]||(e[9]=o=>t.id_guru=null)},[ue,(r(!0),d(y,null,f(F.value,(o,b)=>(r(),d("option",{key:b,value:o.id},i(o.text),9,me))),128))],34),[[p,s.id_guru]]),t.id_guru?(r(),d("div",be,i(t.id_guru),1)):m("",!0)])]),l("div",_e,[l("div",ce,[ge,n(l("select",{id:"kelas","onUpdate:modelValue":e[10]||(e[10]=o=>s.id_rombel=o),class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.id_rombel?"border-red-400":"border-gray-300"]),onFocus:e[11]||(e[11]=o=>t.id_rombel=null)},[pe,(r(!0),d(y,null,f(S.value,(o,b)=>(r(),d("option",{key:b,value:o.id},i(o.text),9,xe))),128))],34),[[p,s.id_rombel]]),t.id_rombel?(r(),d("div",ye,i(t.id_rombel),1)):m("",!0)]),l("div",fe,[ke,n(l("select",{id:"mapel","onUpdate:modelValue":e[12]||(e[12]=o=>s.tipe_soal=o),class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.tipe_soal?"border-red-400":"border-gray-300"]),onFocus:e[13]||(e[13]=o=>t.tipe_soal=null)},Se,34),[[p,s.tipe_soal]]),t.tipe_soal?(r(),d("div",Fe,i(t.tipe_soal),1)):m("",!0)]),l("div",Ee,[Te,n(l("select",{id:"guru","onUpdate:modelValue":e[14]||(e[14]=o=>s.is_agama=o),class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.is_agama?"border-red-400":"border-gray-300"]),onFocus:e[15]||(e[15]=o=>t.is_agama=null)},$e,34),[[p,s.is_agama]]),t.is_agama?(r(),d("div",Pe,i(t.is_agama),1)):m("",!0)])]),l("div",Ve,[l("div",Ke,[Ue,n(l("input",{"onUpdate:modelValue":e[16]||(e[16]=o=>s.jml_pg=o),type:"number",id:"jml_pg",class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.jml_pg?"border-red-400":"border-gray-300"]),onFocus:e[17]||(e[17]=o=>t.jml_pg=null)},null,34),[[g,s.jml_pg]]),t.jml_pg?(r(),d("div",Oe,i(t.jml_pg),1)):m("",!0)]),l("div",Ne,[Ae,n(l("input",{"onUpdate:modelValue":e[18]||(e[18]=o=>s.bobot_pg=o),type:"number",id:"bobot_pg",class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.bobot_pg?"border-red-400":"border-gray-300"]),onFocus:e[19]||(e[19]=o=>t.bobot_pg=null)},null,34),[[g,s.bobot_pg]]),t.bobot_pg?(r(),d("div",Be,i(t.bobot_pg),1)):m("",!0)])]),l("div",Ie,[l("div",Re,[De,n(l("input",{"onUpdate:modelValue":e[20]||(e[20]=o=>s.jml_essay=o),type:"number",id:"jml_essay",class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.jml_essay?"border-red-400":"border-gray-300"]),onFocus:e[21]||(e[21]=o=>t.jml_essay=null)},null,34),[[g,s.jml_essay]]),t.jml_essay?(r(),d("div",Ce,i(t.jml_essay),1)):m("",!0)]),l("div",ze,[Je,n(l("input",{"onUpdate:modelValue":e[22]||(e[22]=o=>s.bobot_essay=o),type:"number",id:"bobot_essay",class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.bobot_essay?"border-red-400":"border-gray-300"]),onFocus:e[23]||(e[23]=o=>t.bobot_essay=null)},null,34),[[g,s.bobot_essay]]),t.bobot_essay?(r(),d("div",Le,i(t.bobot_essay),1)):m("",!0)])])]),l("div",Xe,[T.value?(r(),d("div",Ye,[l("div",qe,[l("img",{src:v(B),alt:"",class:"w-8"},null,8,He),Qe])])):(r(),d("div",We,[l("button",{onClick:e[24]||(e[24]=o=>v(h).push({name:"detailSoal",params:{id:v(x).params.id}})),type:"button",class:"mr-5 text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Batal "),l("button",{onClick:K,type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Simpan ")]))])])]))}};export{lt as default};
