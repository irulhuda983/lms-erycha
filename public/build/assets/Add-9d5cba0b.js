import{a as U,r as g,b as j,l as E,o as r,c as d,d as o,e as n,v as _,x as u,t as i,y as m,J as p,F as y,s as f,m as S,k as O}from"./app-862473d7.js";import{l as T}from"./loader-50bc1437.js";const B={class:"w-full box-border p-5"},G={class:"w-full relative overflow-x-auto shadow-md sm:rounded-lg"},N=o("div",{class:"box-border px-6 py-6 border-b bg-white flex justify-between items-center"},[o("h2",{class:"text-lg font-bold"},"Buat Soal")],-1),I={class:"w-full p-6 box-border bg-white"},A={class:"w-full flex flex-col lg:flex-row lg:space-x-3"},C={class:"mb-6 w-2/3"},D=o("label",{for:"nama",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Judul / Nama Soal",-1),J={key:0,class:"text-red-500 italic text-xs mt-1"},R={class:"mb-6 w-1/3"},z=o("label",{for:"kkm",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"KKM",-1),L={key:0,class:"text-red-500 italic text-xs mt-1"},X={class:"w-full flex flex-col lg:flex-row lg:space-x-3"},Y={class:"mb-6 w-1/3"},q=o("label",{for:"kelas",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kelas",-1),H=o("option",{value:""},"Semua Kelas",-1),Q=["value"],W={key:0,class:"text-red-500 italic text-xs mt-1"},Z={class:"mb-6 w-1/3"},ee=o("label",{for:"mapel",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Mata Pelajaran",-1),te=o("option",{value:""},"Pilih Mapel",-1),oe=["value"],le={key:0,class:"text-red-500 italic text-xs mt-1"},se={class:"mb-6 w-1/3"},ae=o("label",{for:"guru",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Guru Pengampu",-1),re=o("option",{value:""},"Pilih Guru",-1),de=["value"],ie={key:0,class:"text-red-500 italic text-xs mt-1"},ne={class:"w-full flex flex-col lg:flex-row lg:space-x-3"},ue={class:"mb-6 w-1/2"},me=o("label",{for:"mapel",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Tipe Soal",-1),be=o("option",{value:""},"Pilih Tipe Soal",-1),_e=o("option",{value:"pg_essay"},"Pilihan Ganda dan Essay",-1),ce=o("option",{value:"pg"},"Pilihan Ganda",-1),ge=o("option",{value:"essay"},"Essay",-1),pe=[be,_e,ce,ge],xe={key:0,class:"text-red-500 italic text-xs mt-1"},ye={class:"mb-6 w-1/2"},fe=o("label",{for:"guru",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Soal Agama",-1),ke=o("option",{value:0},"Pilih",-1),ve=o("option",{value:1},"Ya",-1),he=o("option",{value:0},"Tidak",-1),we=[ke,ve,he],je={key:0,class:"text-red-500 italic text-xs mt-1"},Se={class:"w-full flex flex-col lg:flex-row lg:space-x-3"},Fe={class:"mb-6 w-1/2"},Me=o("label",{for:"jml_pg",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Jumlah Soal Pilihan Ganda",-1),Ve={key:0,class:"text-red-500 italic text-xs mt-1"},$e={class:"mb-6 w-1/2"},Ke=o("label",{for:"bobot_pg",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Bobot Pilihan Ganda",-1),Pe={key:0,class:"text-red-500 italic text-xs mt-1"},Ue={class:"w-full flex flex-col lg:flex-row lg:space-x-3"},Ee={class:"mb-6 w-1/2"},Oe=o("label",{for:"jml_essay",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Jumlah Soal Essay",-1),Te={key:0,class:"text-red-500 italic text-xs mt-1"},Be={class:"mb-6 w-1/2"},Ge=o("label",{for:"bobot_essay",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Bobot Essay",-1),Ne={key:0,class:"text-red-500 italic text-xs mt-1"},Ie={class:"border-t px-6 py-4 box-order"},Ae={key:0,class:"flex items-center justify-end"},Ce={class:"flex items-center"},De=["src"],Je=o("div",{class:"text-gray-600 italic"},"Menyimpan Data",-1),Re={key:1,class:"flex justify-end"},Ye={__name:"Add",setup(ze){const k=U(),{notify:b}=O(),v=g([]),h=g([]),F=g([]),w=g([]),x=g(!1),s=j({id_mapel:"",id_guru:"",id_kelas:"",id_rombel:"",kode:"",tipe_mapel_soal:"",tipe_soal:"",nama:"",jml_pg:"",jml_essay:"",bobot_pg:"",bobot_essay:"",jml_pil_essay:"",kkm:"",is_agama:0,is_active:""}),t=j({id_mapel:null,id_guru:null,id_kelas:null,id_rombel:null,kode:null,tipe_mapel_soal:null,tipe_soal:null,nama:null,jml_pg:null,jml_essay:null,bobot_pg:null,bobot_essay:null,jml_pil_essay:null,kkm:null,is_agama:null,is_active:null}),M=async()=>{try{const{data:a}=await axios.get("/opt/kelas");v.value=a.data}catch(a){a.response.status==401?(localStorage.removeItem("TOKEN"),location.reload()):b({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}},V=async()=>{try{const{data:a}=await axios.get("/opt/mapel");h.value=a.data}catch(a){a.response.status==401?(localStorage.removeItem("TOKEN"),location.reload()):b({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}},$=async()=>{try{const{data:a}=await axios.get("/opt/rombel");F.value=a.data}catch(a){a.response.status==401?(localStorage.removeItem("TOKEN"),location.reload()):b({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}},K=async()=>{try{const{data:a}=await axios.get("/opt/guru");w.value=a.data}catch(a){a.response.status==401?(localStorage.removeItem("TOKEN"),location.reload()):b({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}},P=async()=>{if(t.media_file||t.media_image||t.media_video){b({text:"Anda memiliki input yang tidak sesuai, silahkan cek kembali input anda",type:"error",duration:2e3});return}x.value=!0;try{const{data:a}=await instanceAdmin({url:"/admin/soal",method:"POST",data:s});b({text:"Berhasil tambah soal",type:"success",duration:2e3}),k.push({name:"soal"})}catch(a){if(a.response.status==401)localStorage.removeItem("TOKEN"),location.reload();else if(a.response.status==422){const e=a.response.data.errors;t.id_mapel=e.id_mapel?e.id_mapel[0]:null,t.id_guru=e.id_guru?e.id_guru[0]:null,t.id_kelas=e.id_kelas?e.id_kelas[0]:null,t.id_rombel=e.id_rombel?e.id_rombel[0]:null,t.tipe_mapel_soal=e.tipe_mapel_soal?e.tipe_mapel_soal[0]:null,t.tipe_soal=e.tipe_soal?e.tipe_soal[0]:null,t.nama=e.nama?e.nama[0]:null,t.jml_pg=e.jml_pg?e.jml_pg[0]:null,t.jml_essay=e.jml_essay?e.jml_essay[0]:null,t.bobot_pg=e.bobot_pg?e.bobot_pg[0]:null,t.bobot_essay=e.bobot_essay?e.bobot_essay[0]:null,t.jml_pil_essay=e.jml_pil_essay?e.jml_pil_essay[0]:null,t.kkm=e.kkm?e.kkm[0]:null,t.is_agama=e.is_agama?e.is_agama[0]:null}else b({text:"Faliled to add, Server is Maintenent",type:"error",duration:2e3})}finally{x.value=!1}};return E(()=>{M(),K(),V(),$()}),(a,e)=>(r(),d("div",B,[o("div",G,[N,o("div",I,[o("div",A,[o("div",C,[D,n(o("textarea",{id:"nama","onUpdate:modelValue":e[0]||(e[0]=l=>s.nama=l),rows:"1",class:u(["block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border focus:ring-blue-500 focus:border-blue-500",t.nama?"border-red-400":"border-gray-300"]),placeholder:"Soal Matematika X ...",onFocus:e[1]||(e[1]=l=>t.nama=null)},null,34),[[_,s.nama]]),t.nama?(r(),d("div",J,i(t.nama),1)):m("",!0)]),o("div",R,[z,n(o("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s.kkm=l),type:"number",id:"kkm",class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.kkm?"border-red-400":"border-gray-300"]),onFocus:e[3]||(e[3]=l=>t.kkm=null)},null,34),[[_,s.kkm]]),t.kkm?(r(),d("div",L,i(t.kkm),1)):m("",!0)])]),o("div",X,[o("div",Y,[q,n(o("select",{id:"kelas","onUpdate:modelValue":e[4]||(e[4]=l=>s.id_kelas=l),class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.id_kelas?"border-red-400":"border-gray-300"]),onFocus:e[5]||(e[5]=l=>t.id_kelas=null)},[H,(r(!0),d(y,null,f(v.value,(l,c)=>(r(),d("option",{key:c,value:l.id},i(l.text),9,Q))),128))],34),[[p,s.id_kelas]]),t.id_kelas?(r(),d("div",W,i(t.id_kelas),1)):m("",!0)]),o("div",Z,[ee,n(o("select",{id:"mapel","onUpdate:modelValue":e[6]||(e[6]=l=>s.id_mapel=l),class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.id_mapel?"border-red-400":"border-gray-300"]),onFocus:e[7]||(e[7]=l=>t.id_mapel=null)},[te,(r(!0),d(y,null,f(h.value,(l,c)=>(r(),d("option",{key:c,value:l.id},i(l.text),9,oe))),128))],34),[[p,s.id_mapel]]),t.id_mapel?(r(),d("div",le,i(t.id_mapel),1)):m("",!0)]),o("div",se,[ae,n(o("select",{id:"guru","onUpdate:modelValue":e[8]||(e[8]=l=>s.id_guru=l),class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.id_guru?"border-red-400":"border-gray-300"]),onFocus:e[9]||(e[9]=l=>t.id_guru=null)},[re,(r(!0),d(y,null,f(w.value,(l,c)=>(r(),d("option",{key:c,value:l.id},i(l.text),9,de))),128))],34),[[p,s.id_guru]]),t.id_guru?(r(),d("div",ie,i(t.id_guru),1)):m("",!0)])]),o("div",ne,[o("div",ue,[me,n(o("select",{id:"mapel","onUpdate:modelValue":e[10]||(e[10]=l=>s.tipe_soal=l),class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.tipe_soal?"border-red-400":"border-gray-300"]),onFocus:e[11]||(e[11]=l=>t.tipe_soal=null)},pe,34),[[p,s.tipe_soal]]),t.tipe_soal?(r(),d("div",xe,i(t.tipe_soal),1)):m("",!0)]),o("div",ye,[fe,n(o("select",{id:"guru","onUpdate:modelValue":e[12]||(e[12]=l=>s.is_agama=l),class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.is_agama?"border-red-400":"border-gray-300"]),onFocus:e[13]||(e[13]=l=>t.is_agama=null)},we,34),[[p,s.is_agama]]),t.is_agama?(r(),d("div",je,i(t.is_agama),1)):m("",!0)])]),o("div",Se,[o("div",Fe,[Me,n(o("input",{"onUpdate:modelValue":e[14]||(e[14]=l=>s.jml_pg=l),type:"number",id:"jml_pg",class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.jml_pg?"border-red-400":"border-gray-300"]),onFocus:e[15]||(e[15]=l=>t.jml_pg=null)},null,34),[[_,s.jml_pg]]),t.jml_pg?(r(),d("div",Ve,i(t.jml_pg),1)):m("",!0)]),o("div",$e,[Ke,n(o("input",{"onUpdate:modelValue":e[16]||(e[16]=l=>s.bobot_pg=l),type:"number",id:"bobot_pg",class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.bobot_pg?"border-red-400":"border-gray-300"]),onFocus:e[17]||(e[17]=l=>t.bobot_pg=null)},null,34),[[_,s.bobot_pg]]),t.bobot_pg?(r(),d("div",Pe,i(t.bobot_pg),1)):m("",!0)])]),o("div",Ue,[o("div",Ee,[Oe,n(o("input",{"onUpdate:modelValue":e[18]||(e[18]=l=>s.jml_essay=l),type:"number",id:"jml_essay",class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.jml_essay?"border-red-400":"border-gray-300"]),onFocus:e[19]||(e[19]=l=>t.jml_essay=null)},null,34),[[_,s.jml_essay]]),t.jml_essay?(r(),d("div",Te,i(t.jml_essay),1)):m("",!0)]),o("div",Be,[Ge,n(o("input",{"onUpdate:modelValue":e[20]||(e[20]=l=>s.bobot_essay=l),type:"number",id:"bobot_essay",class:u(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",t.bobot_essay?"border-red-400":"border-gray-300"]),onFocus:e[21]||(e[21]=l=>t.bobot_essay=null)},null,34),[[_,s.bobot_essay]]),t.bobot_essay?(r(),d("div",Ne,i(t.bobot_essay),1)):m("",!0)])])]),o("div",Ie,[x.value?(r(),d("div",Ae,[o("div",Ce,[o("img",{src:S(T),alt:"",class:"w-8"},null,8,De),Je])])):(r(),d("div",Re,[o("button",{onClick:e[22]||(e[22]=l=>S(k).push({name:"soal"})),type:"button",class:"mr-5 text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Batal "),o("button",{onClick:P,type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Simpan ")]))])])]))}};export{Ye as default};
